@using CSSPWebTools.Views.ProvinceTools.Resources;
@using CSSPWebTools.Controllers;
@using CSSPEnumsDLL.Enums;
@using CSSPEnumsDLL.Services;
@using CSSPModelsDLL.Models;
@using System.Linq;

@{
    int ProvinceTVItemID = (int)ViewBag.ProvinceTVItemID;
}

<div class="ProvinceToolsTopDiv">
    <div class="AppTaskDiv">
        @Html.Action("_appTask", "Home", new { TVItemID = ProvinceTVItemID, Seconds = 5 })
    </div>
    <div class="panel-group" id="ProvinceToolsAccordion" role="tablist" aria-multiselectable="true">
        <div class="panel panel-info">
            <div class="panel-heading" role="tab" id="headingClimateData">
                <h4 class="panel-title">
                    <a role="button" data-toggle="collapse" data-parent="#ProvinceToolsAccordion" href="#ClimateDataCollapse" aria-expanded="true" aria-controls="ClimateDataCollapse">
                        @ProvinceToolsViewRes.ClimateSitePrecipitationRelatedTools
                    </a>
                </h4>
            </div>
            <div id="ClimateDataCollapse" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingClimateData">
                <div class="ProvinceToolsClimateSiteDiv panel-body">
                    <div class="h4">@ProvinceToolsViewRes.SomeOfTheseTasksCanTakeALongTime</div>
                    <select class="form-control" name="Year">
                        @for (int year = DateTime.Now.Year; year > 1979; year--)
                    {
                        <option value="@year">@year</option>
                }
                    </select>
                    <p></p>
                    <button class="jbProvinceToolsGetAllPrecipitationForYear btn btn-primary" data-provincetvitemid="@ProvinceTVItemID">
                        @ProvinceToolsViewRes.GetAllPrecipitationForYear
                        <span class="working hidden">
                            @ProvinceToolsViewRes.Working...
                            <span class="percent"></span>
                        </span>
                    </button>
                    <p></p>
                    <button class="jbProvinceToolsFillRunPrecipByClimateSitePriorityForYear btn btn-primary" data-provincetvitemid="@ProvinceTVItemID">
                        @ProvinceToolsViewRes.FillRunPrecipByClimateSitePriorityForYear
                        <span class="working hidden">
                            @ProvinceToolsViewRes.Working...
                            <span class="percent"></span>
                        </span>
                    </button>
                    <p></p>
                    <button class="jbProvinceToolsFindMissingPrecipForProvince btn btn-primary" data-provincetvitemid="@ProvinceTVItemID">
                        @ProvinceToolsViewRes.FindMissingPrecipForProvince
                        <span class="working hidden">
                            @ProvinceToolsViewRes.Working...
                            <span class="percent"></span>
                        </span>
                    </button>
                    <span>@ProvinceToolsViewRes.ADocumentWillBeCreatedShowingTheMissingPrecip</span>
                    <p></p>
                </div>
            </div>
        </div>
        <div class="panel panel-info">
            <div class="panel-heading" role="tab" id="headingPlaceholder">
                <h4 class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#ProvinceToolsAccordion" href="#PlaceholderCollapse" aria-expanded="false" aria-controls="PlaceholderCollapse">
                        @ProvinceToolsViewRes.PlaceholderForMore
                    </a>
                </h4>
            </div>
            <div id="PlaceholderCollapse" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingPlaceholder">
                <div class="panel-body">
                    More buttons here
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    $(function () {
        //cssp.ProvinceTools.ProvinceToolsInit();
    });
</script>